{
  "prompt": {
    "write_query": "You are an agent designed to interact with a SQL database.\n     Given an input question, create a syntactically correct sqlite query to run to help find the answer.\n\nPay attention to use only the column names that you can see in the schema description.\nBe careful to not query for columns that do not exist.\nAlso, pay attention to which column is in which table.\n\n## Table Schema ##\n\nOnly use the following tables:\n\nCREATE TABLE city_channel (\n\t\"ID\" INTEGER, \n\t\"City\" TEXT, \n\t\"Station_name\" TEXT, \n\t\"Owned_Since\" REAL, \n\t\"Affiliation\" TEXT, \n\tPRIMARY KEY (\"ID\")\n)\n\n/*\n3 rows from city_channel table:\nID\tCity\tStation_name\tOwned_Since\tAffiliation\n1\tPhoenix\tKNXV-TV\t1985.0\tABC\n2\tBakersfield, California\tKERO-TV\t2011.0\tABC\n3\tBakersfield, California\tKZKC-LP\t2011.0\tAzteca América\n*/\n\n\nCREATE TABLE city_channel_radio (\n\t\"City_channel_ID\" INTEGER, \n\t\"Radio_ID\" INTEGER, \n\t\"Is_online\" BOOLEAN, \n\tPRIMARY KEY (\"City_channel_ID\", \"Radio_ID\"), \n\tFOREIGN KEY(\"Radio_ID\") REFERENCES radio (\"Radio_ID\"), \n\tFOREIGN KEY(\"City_channel_ID\") REFERENCES city_channel (\"ID\")\n)\n\n/*\n3 rows from city_channel_radio table:\nCity_channel_ID\tRadio_ID\tIs_online\n1\t1\tTrue\n2\t2\tTrue\n3\t3\tTrue\n*/\n\n\nCREATE TABLE city_channel_tv_show (\n\t\"City_channel_ID\" INTEGER, \n\t\"tv_show_ID\" INTEGER, \n\t\"Is_online\" BOOLEAN, \n\t\"Is_free\" BOOLEAN, \n\tPRIMARY KEY (\"City_channel_ID\", \"tv_show_ID\"), \n\tFOREIGN KEY(\"tv_show_ID\") REFERENCES tv_show (\"tv_show_ID\"), \n\tFOREIGN KEY(\"City_channel_ID\") REFERENCES city_channel (\"ID\")\n)\n\n/*\n3 rows from city_channel_tv_show table:\nCity_channel_ID\ttv_show_ID\tIs_online\tIs_free\n12\t2\tTrue\tTrue\n13\t1\tTrue\tTrue\n14\t1\tTrue\tTrue\n*/\n\n\nCREATE TABLE radio (\n\t\"Radio_ID\" INTEGER, \n\t\"Transmitter\" TEXT, \n\t\"Radio_MHz\" TEXT, \n\t\"2FM_MHz\" TEXT, \n\t\"RnaG_MHz\" TEXT, \n\t\"Lyric_FM_MHz\" TEXT, \n\t\"ERP_kW\" TEXT, \n\tPRIMARY KEY (\"Radio_ID\")\n)\n\n/*\n3 rows from radio table:\nRadio_ID\tTransmitter\tRadio_MHz\t2FM_MHz\tRnaG_MHz\tLyric_FM_MHz\tERP_kW\n1\tCairn Hill\t89.8\tN/A\tN/A\tN/A\t16\n2\tClermont Carn\t87.8\t97.0\t102.7\t95.2\t40\n3\tKippure\t89.1\t91.3\t93.5\t98.7\t40\n*/\n\n\nCREATE TABLE tv_show (\n\t\"tv_show_ID\" INTEGER, \n\ttv_show_name TEXT, \n\t\"Sub_tittle\" TEXT, \n\t\"Next_show_name\" TEXT, \n\t\"Original_Airdate\" TEXT, \n\tPRIMARY KEY (\"tv_show_ID\")\n)\n\n/*\n3 rows from tv_show table:\ntv_show_ID\ttv_show_name\tSub_tittle\tNext_show_name\tOriginal_Airdate\n1\tPeace and Quiet\tWanted: Wade\tGarfield Goes an Hawaii\tSeptember17,1988\n2\tBox O' Fun\tUnidentified Flying Orson\tSchool Daze\tSeptember24,1988\n3\tNighty Nightmare\tBanana Nose\tOde to Odie\tOctober1,1988\n*/\n\n## Output Format ##\n\nRespond in the following format:\n\n```sqlite\nGENERATED QUERY\n```",
    "check_query": "You are a SQL expert with a strong attention to detail.\nDouble check the sqlite query for common mistakes, including:\n- Using NOT IN with NULL values\n- Using UNION when UNION ALL should have been used\n- Using BETWEEN for exclusive ranges\n- Data type mismatch in predicates\n- Properly quoting identifiers\n- Using the correct number of arguments for functions\n- Casting to the correct data type\n- Using the proper columns for joins\n- Explicit query execution failures\n- Clearly unreasoable query execution results\n\n## Table Schema ##\n\n\nCREATE TABLE city_channel (\n\t\"ID\" INTEGER, \n\t\"City\" TEXT, \n\t\"Station_name\" TEXT, \n\t\"Owned_Since\" REAL, \n\t\"Affiliation\" TEXT, \n\tPRIMARY KEY (\"ID\")\n)\n\n/*\n3 rows from city_channel table:\nID\tCity\tStation_name\tOwned_Since\tAffiliation\n1\tPhoenix\tKNXV-TV\t1985.0\tABC\n2\tBakersfield, California\tKERO-TV\t2011.0\tABC\n3\tBakersfield, California\tKZKC-LP\t2011.0\tAzteca América\n*/\n\n\nCREATE TABLE city_channel_radio (\n\t\"City_channel_ID\" INTEGER, \n\t\"Radio_ID\" INTEGER, \n\t\"Is_online\" BOOLEAN, \n\tPRIMARY KEY (\"City_channel_ID\", \"Radio_ID\"), \n\tFOREIGN KEY(\"Radio_ID\") REFERENCES radio (\"Radio_ID\"), \n\tFOREIGN KEY(\"City_channel_ID\") REFERENCES city_channel (\"ID\")\n)\n\n/*\n3 rows from city_channel_radio table:\nCity_channel_ID\tRadio_ID\tIs_online\n1\t1\tTrue\n2\t2\tTrue\n3\t3\tTrue\n*/\n\n\nCREATE TABLE city_channel_tv_show (\n\t\"City_channel_ID\" INTEGER, \n\t\"tv_show_ID\" INTEGER, \n\t\"Is_online\" BOOLEAN, \n\t\"Is_free\" BOOLEAN, \n\tPRIMARY KEY (\"City_channel_ID\", \"tv_show_ID\"), \n\tFOREIGN KEY(\"tv_show_ID\") REFERENCES tv_show (\"tv_show_ID\"), \n\tFOREIGN KEY(\"City_channel_ID\") REFERENCES city_channel (\"ID\")\n)\n\n/*\n3 rows from city_channel_tv_show table:\nCity_channel_ID\ttv_show_ID\tIs_online\tIs_free\n12\t2\tTrue\tTrue\n13\t1\tTrue\tTrue\n14\t1\tTrue\tTrue\n*/\n\n\nCREATE TABLE radio (\n\t\"Radio_ID\" INTEGER, \n\t\"Transmitter\" TEXT, \n\t\"Radio_MHz\" TEXT, \n\t\"2FM_MHz\" TEXT, \n\t\"RnaG_MHz\" TEXT, \n\t\"Lyric_FM_MHz\" TEXT, \n\t\"ERP_kW\" TEXT, \n\tPRIMARY KEY (\"Radio_ID\")\n)\n\n/*\n3 rows from radio table:\nRadio_ID\tTransmitter\tRadio_MHz\t2FM_MHz\tRnaG_MHz\tLyric_FM_MHz\tERP_kW\n1\tCairn Hill\t89.8\tN/A\tN/A\tN/A\t16\n2\tClermont Carn\t87.8\t97.0\t102.7\t95.2\t40\n3\tKippure\t89.1\t91.3\t93.5\t98.7\t40\n*/\n\n\nCREATE TABLE tv_show (\n\t\"tv_show_ID\" INTEGER, \n\ttv_show_name TEXT, \n\t\"Sub_tittle\" TEXT, \n\t\"Next_show_name\" TEXT, \n\t\"Original_Airdate\" TEXT, \n\tPRIMARY KEY (\"tv_show_ID\")\n)\n\n/*\n3 rows from tv_show table:\ntv_show_ID\ttv_show_name\tSub_tittle\tNext_show_name\tOriginal_Airdate\n1\tPeace and Quiet\tWanted: Wade\tGarfield Goes an Hawaii\tSeptember17,1988\n2\tBox O' Fun\tUnidentified Flying Orson\tSchool Daze\tSeptember24,1988\n3\tNighty Nightmare\tBanana Nose\tOde to Odie\tOctober1,1988\n*/\n\n## Output Format ##\n\nIf any mistakes from the list above are found, list each error clearly.\nAfter listing mistakes (if any), conclude with **ONE** of the following exact phrases in all caps and without surrounding quotes:\n- If mistakes are found: `THE QUERY IS INCORRECT.`\n- If no mistakes are found: `THE QUERY IS CORRECT.`\n\nDO NOT write the corrected query in the response. You only need to report the mistakes.",
    "rewrite_query": "You are an agent designed to interact with a SQL database.\nRewrite the previous sqlite query to fix errors based on the provided feedback.\nThe goal is to answer the original question.\nMake sure to address all points in the feedback.\n\nPay attention to use only the column names that you can see in the schema description.\nBe careful to not query for columns that do not exist.\nAlso, pay attention to which column is in which table.\n\n## Table Schema ##\n\nOnly use the following tables:\n\nCREATE TABLE city_channel (\n\t\"ID\" INTEGER, \n\t\"City\" TEXT, \n\t\"Station_name\" TEXT, \n\t\"Owned_Since\" REAL, \n\t\"Affiliation\" TEXT, \n\tPRIMARY KEY (\"ID\")\n)\n\n/*\n3 rows from city_channel table:\nID\tCity\tStation_name\tOwned_Since\tAffiliation\n1\tPhoenix\tKNXV-TV\t1985.0\tABC\n2\tBakersfield, California\tKERO-TV\t2011.0\tABC\n3\tBakersfield, California\tKZKC-LP\t2011.0\tAzteca América\n*/\n\n\nCREATE TABLE city_channel_radio (\n\t\"City_channel_ID\" INTEGER, \n\t\"Radio_ID\" INTEGER, \n\t\"Is_online\" BOOLEAN, \n\tPRIMARY KEY (\"City_channel_ID\", \"Radio_ID\"), \n\tFOREIGN KEY(\"Radio_ID\") REFERENCES radio (\"Radio_ID\"), \n\tFOREIGN KEY(\"City_channel_ID\") REFERENCES city_channel (\"ID\")\n)\n\n/*\n3 rows from city_channel_radio table:\nCity_channel_ID\tRadio_ID\tIs_online\n1\t1\tTrue\n2\t2\tTrue\n3\t3\tTrue\n*/\n\n\nCREATE TABLE city_channel_tv_show (\n\t\"City_channel_ID\" INTEGER, \n\t\"tv_show_ID\" INTEGER, \n\t\"Is_online\" BOOLEAN, \n\t\"Is_free\" BOOLEAN, \n\tPRIMARY KEY (\"City_channel_ID\", \"tv_show_ID\"), \n\tFOREIGN KEY(\"tv_show_ID\") REFERENCES tv_show (\"tv_show_ID\"), \n\tFOREIGN KEY(\"City_channel_ID\") REFERENCES city_channel (\"ID\")\n)\n\n/*\n3 rows from city_channel_tv_show table:\nCity_channel_ID\ttv_show_ID\tIs_online\tIs_free\n12\t2\tTrue\tTrue\n13\t1\tTrue\tTrue\n14\t1\tTrue\tTrue\n*/\n\n\nCREATE TABLE radio (\n\t\"Radio_ID\" INTEGER, \n\t\"Transmitter\" TEXT, \n\t\"Radio_MHz\" TEXT, \n\t\"2FM_MHz\" TEXT, \n\t\"RnaG_MHz\" TEXT, \n\t\"Lyric_FM_MHz\" TEXT, \n\t\"ERP_kW\" TEXT, \n\tPRIMARY KEY (\"Radio_ID\")\n)\n\n/*\n3 rows from radio table:\nRadio_ID\tTransmitter\tRadio_MHz\t2FM_MHz\tRnaG_MHz\tLyric_FM_MHz\tERP_kW\n1\tCairn Hill\t89.8\tN/A\tN/A\tN/A\t16\n2\tClermont Carn\t87.8\t97.0\t102.7\t95.2\t40\n3\tKippure\t89.1\t91.3\t93.5\t98.7\t40\n*/\n\n\nCREATE TABLE tv_show (\n\t\"tv_show_ID\" INTEGER, \n\ttv_show_name TEXT, \n\t\"Sub_tittle\" TEXT, \n\t\"Next_show_name\" TEXT, \n\t\"Original_Airdate\" TEXT, \n\tPRIMARY KEY (\"tv_show_ID\")\n)\n\n/*\n3 rows from tv_show table:\ntv_show_ID\ttv_show_name\tSub_tittle\tNext_show_name\tOriginal_Airdate\n1\tPeace and Quiet\tWanted: Wade\tGarfield Goes an Hawaii\tSeptember17,1988\n2\tBox O' Fun\tUnidentified Flying Orson\tSchool Daze\tSeptember24,1988\n3\tNighty Nightmare\tBanana Nose\tOde to Odie\tOctober1,1988\n*/\n\n## Output Format ##\n\nRespond in the following format:\n\n```sqlite\nREWRITTEN QUERY\n```"
  },
  "tool": [
    {
      "name": "sql_db_query",
      "description": "\n    Execute a SQL query against the database and get back the result..\n    If the query is not correct, an error message will be returned.\n    If an error is returned, rewrite the query, check the query, and try again.\n    ",
      "parameters": {
        "type": "OBJECT",
        "properties": {
          "input": {
            "type": "STRING"
          }
        },
        "required": [
          "input"
        ]
      }
    }
  ]
}