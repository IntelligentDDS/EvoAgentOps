{
  "prompt": {
    "write_query": "You are an agent designed to interact with a SQL database.\n     Given an input question, create a syntactically correct sqlite query to run to help find the answer.\n\nPay attention to use only the column names that you can see in the schema description.\nBe careful to not query for columns that do not exist.\nAlso, pay attention to which column is in which table.\n\n## Table Schema ##\n\nOnly use the following tables:\n\nCREATE TABLE \"Addresses\" (\n\taddress_id INTEGER, \n\taddress_details VARCHAR(255), \n\tPRIMARY KEY (address_id)\n)\n\n/*\n3 rows from Addresses table:\naddress_id\taddress_details\n1\t2632 Ofelia Stream Apt. 537\nRueckerborough, NV 78430-4096\n2\t481 Tyrique Junction\nWest Kali, UT 16070-1379\n3\t4363 Otilia Hill\nLandenshire, ND 45637\n*/\n\n\nCREATE TABLE \"Customer_Orders\" (\n\torder_id INTEGER, \n\tcustomer_id INTEGER NOT NULL, \n\torder_date DATETIME NOT NULL, \n\torder_status_code VARCHAR(15), \n\tPRIMARY KEY (order_id), \n\tFOREIGN KEY(customer_id) REFERENCES \"Customers\" (customer_id)\n)\n\n/*\n3 rows from Customer_Orders table:\norder_id\tcustomer_id\torder_date\torder_status_code\n1\t12\t2016-05-14 22:08:41\tPart\n2\t3\t1991-02-26 11:32:39\tPart\n3\t3\t2000-06-26 05:17:11\tPart\n*/\n\n\nCREATE TABLE \"Customers\" (\n\tcustomer_id INTEGER, \n\taddress_id INTEGER NOT NULL, \n\tpayment_method_code VARCHAR(15), \n\tcustomer_number VARCHAR(20), \n\tcustomer_name VARCHAR(80), \n\tcustomer_address VARCHAR(255), \n\tcustomer_phone VARCHAR(80), \n\tcustomer_email VARCHAR(80), \n\tPRIMARY KEY (customer_id)\n)\n\n/*\n3 rows from Customers table:\ncustomer_id\taddress_id\tpayment_method_code\tcustomer_number\tcustomer_name\tcustomer_address\tcustomer_phone\tcustomer_email\n1\t9\tCredit Card\t601\tJeromy\t422 Bode Mount Apt. 688\t1-968-453-3485\teverett.kautzer@example.com\n2\t8\tCredit Card\t920\tEdmond\t0965 Dickens Springs\t+92(8)6677749570\tmaegan54@example.net\n3\t3\tCredit Card\t990\tTwila\t878 Joy Fields Apt. 366\t(291)441-3432\tdedric.bailey@example.org\n*/\n\n\nCREATE TABLE \"Order_Items\" (\n\torder_item_id INTEGER NOT NULL, \n\torder_id INTEGER NOT NULL, \n\tproduct_id INTEGER NOT NULL, \n\torder_quantity VARCHAR(80), \n\tFOREIGN KEY(product_id) REFERENCES \"Products\" (product_id), \n\tFOREIGN KEY(order_id) REFERENCES \"Customer_Orders\" (order_id)\n)\n\n/*\n3 rows from Order_Items table:\norder_item_id\torder_id\tproduct_id\torder_quantity\n1\t8\t13\t2\n2\t1\t10\t2\n3\t13\t11\t4\n*/\n\n\nCREATE TABLE \"Products\" (\n\tproduct_id INTEGER, \n\tproduct_type_code VARCHAR(15), \n\tproduct_name VARCHAR(80), \n\tproduct_price DOUBLE, \n\tPRIMARY KEY (product_id)\n)\n\n/*\n3 rows from Products table:\nproduct_id\tproduct_type_code\tproduct_name\tproduct_price\n1\tHardware\tMonitor\t2084.944172129\n2\tClothes\tTopping\t26045678.098468\n3\tClothes\tBlack Jeans\t7312007.4430563\n*/\n\n## Output Format ##\n\nRespond in the following format:\n\n```sqlite\nGENERATED QUERY\n```",
    "check_query": "You are a SQL expert with a strong attention to detail.\nDouble check the sqlite query for common mistakes, including:\n- Using NOT IN with NULL values\n- Using UNION when UNION ALL should have been used\n- Using BETWEEN for exclusive ranges\n- Data type mismatch in predicates\n- Properly quoting identifiers\n- Using the correct number of arguments for functions\n- Casting to the correct data type\n- Using the proper columns for joins\n- Explicit query execution failures\n- Clearly unreasoable query execution results\n\n## Table Schema ##\n\n\nCREATE TABLE \"Addresses\" (\n\taddress_id INTEGER, \n\taddress_details VARCHAR(255), \n\tPRIMARY KEY (address_id)\n)\n\n/*\n3 rows from Addresses table:\naddress_id\taddress_details\n1\t2632 Ofelia Stream Apt. 537\nRueckerborough, NV 78430-4096\n2\t481 Tyrique Junction\nWest Kali, UT 16070-1379\n3\t4363 Otilia Hill\nLandenshire, ND 45637\n*/\n\n\nCREATE TABLE \"Customer_Orders\" (\n\torder_id INTEGER, \n\tcustomer_id INTEGER NOT NULL, \n\torder_date DATETIME NOT NULL, \n\torder_status_code VARCHAR(15), \n\tPRIMARY KEY (order_id), \n\tFOREIGN KEY(customer_id) REFERENCES \"Customers\" (customer_id)\n)\n\n/*\n3 rows from Customer_Orders table:\norder_id\tcustomer_id\torder_date\torder_status_code\n1\t12\t2016-05-14 22:08:41\tPart\n2\t3\t1991-02-26 11:32:39\tPart\n3\t3\t2000-06-26 05:17:11\tPart\n*/\n\n\nCREATE TABLE \"Customers\" (\n\tcustomer_id INTEGER, \n\taddress_id INTEGER NOT NULL, \n\tpayment_method_code VARCHAR(15), \n\tcustomer_number VARCHAR(20), \n\tcustomer_name VARCHAR(80), \n\tcustomer_address VARCHAR(255), \n\tcustomer_phone VARCHAR(80), \n\tcustomer_email VARCHAR(80), \n\tPRIMARY KEY (customer_id)\n)\n\n/*\n3 rows from Customers table:\ncustomer_id\taddress_id\tpayment_method_code\tcustomer_number\tcustomer_name\tcustomer_address\tcustomer_phone\tcustomer_email\n1\t9\tCredit Card\t601\tJeromy\t422 Bode Mount Apt. 688\t1-968-453-3485\teverett.kautzer@example.com\n2\t8\tCredit Card\t920\tEdmond\t0965 Dickens Springs\t+92(8)6677749570\tmaegan54@example.net\n3\t3\tCredit Card\t990\tTwila\t878 Joy Fields Apt. 366\t(291)441-3432\tdedric.bailey@example.org\n*/\n\n\nCREATE TABLE \"Order_Items\" (\n\torder_item_id INTEGER NOT NULL, \n\torder_id INTEGER NOT NULL, \n\tproduct_id INTEGER NOT NULL, \n\torder_quantity VARCHAR(80), \n\tFOREIGN KEY(product_id) REFERENCES \"Products\" (product_id), \n\tFOREIGN KEY(order_id) REFERENCES \"Customer_Orders\" (order_id)\n)\n\n/*\n3 rows from Order_Items table:\norder_item_id\torder_id\tproduct_id\torder_quantity\n1\t8\t13\t2\n2\t1\t10\t2\n3\t13\t11\t4\n*/\n\n\nCREATE TABLE \"Products\" (\n\tproduct_id INTEGER, \n\tproduct_type_code VARCHAR(15), \n\tproduct_name VARCHAR(80), \n\tproduct_price DOUBLE, \n\tPRIMARY KEY (product_id)\n)\n\n/*\n3 rows from Products table:\nproduct_id\tproduct_type_code\tproduct_name\tproduct_price\n1\tHardware\tMonitor\t2084.944172129\n2\tClothes\tTopping\t26045678.098468\n3\tClothes\tBlack Jeans\t7312007.4430563\n*/\n\n## Output Format ##\n\nIf any mistakes from the list above are found, list each error clearly.\nAfter listing mistakes (if any), conclude with **ONE** of the following exact phrases in all caps and without surrounding quotes:\n- If mistakes are found: `THE QUERY IS INCORRECT.`\n- If no mistakes are found: `THE QUERY IS CORRECT.`\n\nDO NOT write the corrected query in the response. You only need to report the mistakes."
  },
  "tool": [
    {
      "name": "sql_db_query",
      "description": "\n    Execute a SQL query against the database and get back the result..\n    If the query is not correct, an error message will be returned.\n    If an error is returned, rewrite the query, check the query, and try again.\n    ",
      "parameters": {
        "type": "OBJECT",
        "properties": {
          "input": {
            "type": "STRING"
          }
        },
        "required": [
          "input"
        ]
      }
    }
  ]
}